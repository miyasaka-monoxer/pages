<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>年賀問題「あるスタートアップのリファラル事情」解説 続編 - 最も良い現在</title>
    <meta name="description" content="令和7年の年賀問題だった「あるスタートアップのリファラル事情」の解説の続編です。会社の人物相関図が何通り想像できるかという問題について、完全二部グラフについての公式を知らなくてもできる解法を紹介します。">

    <meta property="og:title" content="年賀問題「あるスタートアップのリファラル事情」解説編その 2 - 最も良い現在">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://miyasaka-monoxer.github.io/pages/R080105">
    <meta property="og:image" content="https://miyasaka-monoxer.github.io/pages/images/R080105-ogp.jpg">
    <meta property="og:description" content="令和7年の年賀問題だった「あるスタートアップのリファラル事情」の解説の続編です。会社の人物相関図が何通り想像できるかという問題について、完全二部グラフについての公式を知らなくてもできる解法を紹介します。">
    <meta property="og:locale" content="ja_JP">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="">

    <link rel="icon" type="image/vnd.microsoft.icon" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen,print">
    <link rel="stylesheet" type="text/css" href="css/mobile.css" media="handheld">
    <link rel="stylesheet" type="text/css" href="css/special.css" media="screen,print">
</head>
<body>
<div class="all">
<header>
    <nav>
        <a href="./">最も良い現在</a> › 雑記 › <a href="./R080105">年賀問題「あるスタートアップのリファラル事情」解説 続編</a>
    </nav>
    <hr>
    <h1>年賀問題「あるスタートアップのリファラル事情」<br />解説 続編</h1>
    <hr>

    <address>宮坂　聡</address>
</header>
<div class="main">
    <p>令和 7 年の年賀問題として、ある架空の企業の人物相関図を想像するというものを掲載しました。</p>
    <ul>
        <li><a href="./R070101">年賀問題「あるスタートアップのリファラル事情」</a></li>
    </ul>
    <p>すでに<a href="./R071205">解説編</a>も掲載したのですが、最近、何気なく AI に訊いてみたところ、もっと簡単な別解が出てきたので紹介します。</p>
    <blockquote class="message">
        <p>当社には、営業職 3 名と開発職 5 名のあわせて 8 名の社員がいます。このうち、営業職である創業者 1 名を除き、他の 7 名は、それぞれ当時の既存社員 1 名を推薦人として、推薦人からの推薦によって採用されました。</p>
        <p>その際、当社では、推薦人について、入社者と異なる職種（営業職→開発職、開発職→営業職）でなければならないという条件を課しています。また、創業以来、退職した者はいません。</p>
        <p>これらの情報にもとづいて、当社の人物相関図を想像するとき、あり得る人物相関図は何通りあるでしょうか？</p>
        <p class="img right"><img src="images/R070101-image2.jpg" alt="人物相関図"></p>
        <p>ただし、人物相関図とは、紙面上に社員の顔写真を配置し、「推薦した→推薦された」という関係を表すために、推薦した社員を起点、推薦された社員を終点とする矢印を描き込んだ図のことをいいます。また、人物相関図を数える際には、写真の配置や矢印の描き方が異なっても、全く同じ「推薦した→推薦された」関係を表している人物相関図は、まとめて 1 通りとして数えます。</p>
        <hr class="break" />
    </blockquote>
    <p>なお、題意の補足として、「誰が創業者であるかは知っているが、他の社員の入社順は知らない」という前提で考えるものとします。</p>
    <h2>あり得る相関図を分類する</h2>
    <p>本問は、「何通りありますか」という問題です。このようなものは、数え上げの問題とよばれていますね。とくに本問では、問題文で示された「人物相関図」というものが何通りあり得るかを考えています。</p>
    <p>数え上げの基本的な方針の一つとして、「分類して数える」というものがあります。</p>
    <h3>少ないものに注目する</h3>
    <p>分類するときには、なるべく少数のパターンに分類できるほうがよいですね。また、パターンに分類したあとは、計算が簡単にできなければなりません。</p>
    <p>ここでは、営業職が 3 名しかいないことに注目して、<em>営業職が相関図の中でどんな位置関係になっているか</em> によって分類することにします。</p>
    <p>営業職 3 名のうち 1 人は創業者なので、残りの 2 人がどうやって紹介されてきたかを考えましょう。</p>
    <p>以下の 3 つのパターンに分けることができます。</p>
    <ul>
        <li class="img center"><img src="./images/R080105-image1.png" alt="(a) 一方が他方の祖先である"></li>
        <li class="img center"><img src="./images/R080105-image2.png" alt="(b) 共通の祖先は開発職である"></li>
        <li class="img center"><img src="./images/R080105-image3.png" alt="(c) 共通の祖先は創業者である"></li>
    </ul>
    <h3>枝葉はあとで考える</h3>
    <p>なお、この図では、営業職の紹介に関わっていない開発職は省略しています。</p>
    <p>また、創業者を除いては、社員の具体的な名前を省略し、営業職または開発職という区分のみで図をかいています。</p>
    <p>このように <em>注目する部分以外を抽象化すること</em> も一つのポイントです。あとでわかるように、これらの省略した要素は、後から簡単に計算できるからです。</p>
    
    <h3>それぞれのパターンを数える</h3>
    <p>(a), (b), (c) の相関図が何通りあるかを計算しましょう。</p>
    <p>先程のパターンを実際の人物相関図に直すには、以下のことをすればよいですね。</p>
    <ul>
        <li>実際の社員の名前をあてはめる</li>
        <li>省略されていた開発職を、図に追加する</li>
    </ul>
    <p>名前のあてはめ方や、追加の仕方が何通りあるかを考えましょう。</p>

    <h2>(a) の計算</h2>
    <p>図には、営業職が 2 人、開発職が 2 人描かれています。</p>
    <p class="img center"><img src="./images/R080105-image4.png" alt="(a) 一方が他方の祖先である"></p>
    <p>営業職の名前のあてはめ方は　<sub>2</sub>P<sub>2</sub> = 2 (通り)
        <br />
    開発職の名前のあてはめ方は　<sub>5</sub>P<sub>2</sub> = 20 (通り)
        <br />
    よって、全員の名前のあてはめ方は
        <br />
    　　2 × 20 = 40 (通り)</p>
    <p>残りの 3 人の開発職は、下の図の ☆ の箇所から任意に選んで追加すればよいので
        <br />
    　　3<sup>3</sup> = 27 (通り)</p>
    <p class="img center"><img src="./images/R080105-image5.png" alt="営業職の箇所が ☆ である"></p>
    <p>これらから
        <br />
    　　40 × 27 = 1080 (通り)

    <h2>(b) の計算</h2>
    <p>図には、営業職が 2 人、開発職が 1 人描かれています。</p>
    <p class="img center"><img src="./images/R080105-image6.png" alt="(b) 共通の祖先は開発職である"></p>
    <p>営業職の名前のあてはめ方は　<sub>2</sub>P<sub>2</sub> = 2 (通り)
        <br />
    開発職の名前のあてはめ方は　<sub>5</sub>P<sub>1</sub> = 5 (通り)</p>
    <p>ここで、枝分かれした 2 つの枝は、位置を入れ替えても区別ができません。そのため、名前をあてはめたとき、図では別のように見えても実際には同じであるあてはめ方が
        <br />
    　　2! = 2 (通り)
        <br />
    ずつあります。たとえば、下の図の 2 つのあてはめ方は、同じ相関図を表します。</p>
    <p class="img center"><img src="./images/R080105-image7.png" alt="創業者ではない営業職どうしを入れ替えた図"></p>
    <p>よって、名前のあてはめ方は結局
        <br />
    　　(2 × 5) ÷ 2 = 5 (通り)</p>
    <p>残りの 4 人の開発職は、下の図の ☆ の箇所から任意に選んで追加すればよいので
        <br />
    　　3<sup>4</sup> = 81 (通り)</p>
    <p class="img center"><img src="./images/R080105-image8.png" alt="営業職の箇所が ☆ である"></p>
    <p>これらから
        <br />
    　　5 × 81 = 405 (通り)

    <h2>(c) の計算</h2>
    <p>図には、営業職が 2 人、開発職が 2 人描かれています。</p>
    <p class="img center"><img src="./images/R080105-image9.png" alt="(c) 共通の祖先は創業者である"></p>
    <p>営業職の名前のあてはめ方は　<sub>2</sub>P<sub>2</sub> = 2 (通り)
        <br />
    開発職の名前のあてはめ方は　<sub>5</sub>P<sub>2</sub> = 20 (通り)</p>
    <p>ここでも (b) と同様、名前をあてはめたとき同じになるあてはめ方が
        <br />
    　　2! = 2 (通り)
        <br />
    あるので、名前のあてはめ方は結局
        <br />
    　　(2 × 20) ÷ 2 = 20 (通り)</p>
    <p>残りの 3 人の開発職は、下の図の ☆ の箇所から任意に選んで追加すればよいので
        <br />
    　　3<sup>3</sup> = 27 (通り)</p>
    <p class="img center"><img src="./images/R080105-image10.png" alt="営業職の箇所が ☆ である"></p>
    <p>これらから
        <br />
    　　20 × 27 = 540 (通り)

    <h2>合計して答えを得る</h2>
    <p>求めるものは、(a), (b), (c) の合計であるから
        <br />
    　　1080 + 405 + 540 = 2025 (通り)
        <br />
    とわかります。</p>

    <p><a href="./R071205">解説編</a>では、離散グラフの分野における公式などを持ち出していましたが、どうやら私は難しく考えすぎていたようです。</p>
    <p>実際には、高校の数学 I で「場合の数」として扱われてもおかしくはない問題でした。（入試レベルで、しかも高めだとは思います。）</p>

    <p class="space-image"><img src="./images/R080105-ogp.jpg"></p>
</div>

<footer>
    <nav>
        <a href="./">最も良い現在</a> › 雑記 › <a href="./R080105">年賀問題「あるスタートアップのリファラル事情」解説 続編</a>
    </nav>
</footer>

</div>
</body>
</html>
